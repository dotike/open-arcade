# GLOSSARY

## Arcade Vocabulary

### ASD: Asteroid Service Description
A JSON file, used to configure services that will run on Asteroids.

### Asteroid: Asteroids on STEROIDS
A collection of Asteroid Services, deployable as a group from a single JSON configuration.
Tool optargs which refer to a named Asteroid:
  --asteroid <asteroid_name> | -a <asteroid_name>
  (Upper case 'A' is reserved for ARCADE.)
TODO: Needs "asteroid name" examples.

### ATMP: Arcade TeMP directory
This is where arcade stores many temporary files. For example:
  - arcade config files
  - galaga json modules
  - asd json files
  - asteroid json files

### ARCADE: Arcade Repeatable Clusters And Deployed Environments
Can be used to refer to either:
  - The entire running enviornment, encompassing all three layers.
  - The base layer and VPC boundary, (aka GRAVITAR).
Tool optargs which refer to a named ARCADE:
  --arcade <ARCADE_name> | -A <ARCADE_name>
  (Lower case 'a' is reserved for Asteroid.)
ENV: TARGET_ARCADE, if set in ENV, should be overridden if someone throws '-A <arcade_name>' to any program which uses it
Examples of an ARCADE Name: hot_lava.arc, some_name.tld

### $ARCADE_NAME
This is the name of an arcade. It is generated by the "arcade grv create" command.
  Once it is defined, you can set it in your environment. Most arcade commands that need it will get it from there.

### Dehydrated config
An ASD/Asteroid config file that has been uploaded to AWS S3 but hasn't yet been enabled with "arcade asteroid enable".

### GALAGA: GRAVITAR Application Layer And General Administration
TODO.
Tool optargs which refer to a named ARCADE:
--galaga | -g
There is no “-G|g” flag allowed for GRAVITAR operations, use ‘-A’ for ARCADE

### GRAVITAR: Global, Regional And VPC Infrastructure TARget
TODO, needs to reference ARCADE definition above.

### GSD
A GSD is a JSON document that describes one Galaga service. These documents will get uploaded to the Galaga Service Directory, a repository that maintains versioned copies of GSDs that can be referenced when creating a Galaga layer.

### Hydrated config
The complete ASD/Asteroid file set that has been enabled with "arcade asteroid enable".
  This is ready to be turned on with "arcade narc reconcile".

### JSON: Java Script Object Notation
This is our standard config file format. Also see YAML.

### NARC: New Asteroid Runtime starting with Containers
A subsystem of Asteroid deploy tooling, specifically responsible for running services, based on intended configuration.
Tool optargs which refer to narc functionality:
   --narc | -n

### Region (AWS)
The AWS Global Infrastructure Regions. Arcades require a minimum of 3 Availability Zones in a region.
  Accounts may only allowed to create arcades in 3 regions. us-west-2, us-east-2, and eu-west-1

## Document locations and lifescycles

Note: any commands that use `-p` are asking for an S3 path. Any comamnds that use `-f` are asking for a local file.

Arcade-Scoped documents are stored in S3 Buckets named using the following convention: `<prefix>.infrastructure.<arcade_name>.arc`, while at the time of writing Account-scoped objects are stored in various subdirectories inside of the `asd-<suffix>` bucket.

In general, once any of the locally-scoped documents has been uploaded to S3, it is safe to delete the local copy.

| Document Type       | Locally-Scoped                                                                                                                                      | Arcade-Scoped                                                                               | Account-Scoped |
| ------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------- | -------------- |
| GSD                 | Modified locally and then uploaded via  `arcade gsd upload`. Cannot be used until uploaded.                                                         | No                                                                                          | Yes            |
| Galaga              | Modified locally and then uploaded via `arcade galaga upload`.  Cannot be used until uploaded.                                                      | No                                                                                          | Yes            |
| ASD                 | Modified locally and then uploaded via `arcade asd upload`.  Cannot be used until uploaded.                                                         | No                                                                                          | Yes            |
| Dehydrated Asteroid | Modified locally and then uploaded via `arcade asteroid upload`. Modified before upload using `arcade asteroid add`. Cannot be used until uploaded. | No                                                                                          | Yes            |
| Hydrated Asteroid   | No                                                                                                                                                  | Yes; generated from Account-Scoped Dehydrated Asteroid File during `arcade asteroid enable` | No             |

### Stored Locally

### Stored in an Arcade S3 Bucket

### Stored in an Account S3 Bucket

## AWS Services Used in an Arcade

* TODO: update these with a brief description of the service and (if its not obvious) what we use it for

### Account-Scoped

**IAM**:

**RDS Parameter Group**:

### Gravitar

**Elastic IPs**: Not common, but can be used. See NAT Gateway.

**Internet Gateway**:

**NAT Gateway**:

**NAT Instance**:

**Network ACL**: Access Control List

**Route53**:

**Route Table**:

**Security Group**:

**S3**:

**VPC**:

**VPC Endpoints**:

**VPC Subnets**:

### Galaga

**Auto Scale Groups**

**EC2 Instance**:

**EKS**: Elastic Kubernetes Service

**MSK**: Managed Kafka Service.

### Asteroids

**ALB/ELB**: Amazon Load Balancer Services

    https://docs.aws.amazon.com/elasticloadbalancing/latest/application/introduction.html

    ASTEROIDS use Amazon ALB's when public/private load balancers are attached to services.
    These ALB's are created at the GALAGA layer, and records are managed by the ASTEROIDS service layer.

    Amazon ELB, NLB, and CLB load balancers are not currently used or created by the ARCADE tools.
    NLB services had been implemented in ARCADE, and may be used again in the future if the need arises.

    *Note*: Amazon DNS names create confusion, creating DNS A records which contain 'elb' in their name.  For example,
        `public-hotlava-arc-123456789.us-west-2.elb.amazonaws.com` (actually an ALB, but says 'elb')
    ARCADE tools map CNAME’s to these A records, but this minor Amazon flaw does create occasional confusion.

**Parameter Store**

**RDS**:

**Secrets Manager**

# Misc tool notes

## Reserved Flags
These are not 100% set in stone. There are occassional variances when deemed necessary.

-A , ARCADE_NAME

-a , Asteroid name

-b , Bucket

-d , Dry Run

-f , Local file location

-h , help - usage instruction for every tool

-j , JSON output

-J , JSON pretty-printed output

-o , Override values

-p , S3 file location

-r , AWS Region

-s , Silent output mode or service name

-t , Tag

-v , Verbose output mode

-V , Tool version

## ENV
Inherited ENV vars must always surrender to any opt/args for that setting.
`arcade help` describes ENV vars which affect many of the arcade programs.
  The special variable ARCADE_NAME is generated by "arcade grv create". Once known, it can be set in the ENV.
  Most commands that use the arcade name, honor the ARCADE_NAME ENV var. However, specifying on the command
  line should always override the ENV var as noted above.
